import{_ as g}from"./navComponent-lkH7bO_p.js";import{x as d,r as m,s as _,b as n,d as r,m as h,e as a,t as f,p as i,F as D,f as k,h as u}from"./index-46RNi_F9.js";const v=d("postDataList",()=>{const e=m([]);function o(){const t=localStorage.getItem("long-lived-access-token");_.get(`https://cors-anywhere.herokuapp.com/https://graph.instagram.com/me/media?fields=caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username&access_token=${t}`).then(s=>{console.log(s),e.value=s.data.data,console.log("post",e.value)}).catch(s=>{console.log(s)})}return{postData:e,getPostData:o}}),y=d("userDataList",()=>{const e=m(null);async function o(){try{const t=localStorage.getItem("long-lived-access-token"),s=await _.get(`https://graph.instagram.com/7089654107806386?fields=account_type,id,media_count,username&access_token=${t}`);e.value=s.data,console.log("User data:",e.value)}catch(t){console.error("Error fetching user data:",t)}}return{userData:e,getUserData:o}}),x={class:"row mx-0"},b={class:"col m-0 border-start min-vh-100"},w={class:"profile mx-auto py-md-4"},S=a("div",{class:"rounded-circle profile-pic m-1 flex-shrink-0 p-1"},null,-1),P={class:"row mx-auto border-top"},V=["onClick"],E={class:"post-pic position-absolute w-100 h-100"},I=["src"],U=["src"],$=a("button",{class:"btn"},null,-1),F={__name:"ProfileView",setup(e){const o=v();o.getPostData();const t=y();t.getUserData(),console.log(t.userData.value);const s=function(l){console.log(l)};return(l,B)=>(n(),r("div",x,[h(g),a("main",b,[a("div",w,[S,a("div",null,f(i(t).userData.username),1)]),a("article",P,[(n(!0),r(D,null,k(i(o).postData,(c,p)=>(n(),r("div",{class:"mt-1 col-4 px-0 ps-1",key:p},[a("div",{class:"profile-post",onClick:C=>s(c.id)},[a("div",E,[c.media_type==="IMAGE"?(n(),r("img",{key:0,src:c.media_url,alt:""},null,8,I)):u("",!0),c.media_type==="VIDEO"?(n(),r("img",{key:1,src:c.thumbnail_url,alt:""},null,8,U)):u("",!0)])],8,V)]))),128))]),$])]))}};export{F as default};
